{"ast":null,"code":"import _slicedToArray from\"D:/Coding Archive/Git Repo/PrivateProject/prj05/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useState}from'react';import'./Test.css';import'../style/GlobalStyle.css';import{myContext}from'../App';import{useLocation}from'react-router-dom';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Test=function Test(){var _location$state,_location$state2,_location$state3,_location$state4,_location$state5;var contextApi=useContext(myContext);// Generalforum에서 게시물 데이터를 가지고 오기위해 useLocation을 사용.\nvar location=useLocation();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isModify=_useState2[0],setIsModify=_useState2[1];var _useState3=useState((_location$state=location.state)===null||_location$state===void 0?void 0:_location$state.BOARD_TITLE),_useState4=_slicedToArray(_useState3,2),boardTitle=_useState4[0],setBoardTitle=_useState4[1];var _useState5=useState((_location$state2=location.state)===null||_location$state2===void 0?void 0:_location$state2.BOARD_TEXT),_useState6=_slicedToArray(_useState5,2),boardText=_useState6[0],setBoardText=_useState6[1];// useLocation으로 가져온 데이터를 변수에 삽입.\nvar boardNumber=(_location$state3=location.state)===null||_location$state3===void 0?void 0:_location$state3.BOARD_NUMBER;var boardWriter=(_location$state4=location.state)===null||_location$state4===void 0?void 0:_location$state4.BOARD_WRITER;var boardWritetime=(_location$state5=location.state)===null||_location$state5===void 0?void 0:_location$state5.BOARD_WRITE_TIME;var setTimeinfo='';// 정확한 입력값을 체크하기 위해서 입력창의 값이 변하는 순간마다 값을 갱신, useState로 변수에 SET하도록 함.\nvar handleInputTitle=function handleInputTitle(e){setBoardTitle(e.target.value);};var handleInputText=function handleInputText(e){setBoardText(e.target.value);};var deleteboard=function deleteboard(){axios.delete('/prj05/board/delete',{params:{'BOARD_NUMBER':boardNumber}}).then(function(res){console.log(res);alert('글이 삭제되었습니다.');// 작업 완료 되면 페이지 이동(새로고침)\ndocument.location.href='/board';});};var modifyboard=function modifyboard(){axios.put('/prj05/board/modify',null,{params:{'BOARD_TITLE':boardTitle,'BOARD_TEXT':boardText,'BOARD_NUMBER':boardNumber}}).then(function(res){// 작업 완료 되면 메시지 알람 띄움.\nalert(res.data.SystemMessage);// 작업 완료 되면 페이지 이동(새로고침).\ndocument.location.href='/board';}).catch(function(error){console.log(error);});};var changemodify=function changemodify(){setIsModify(true);};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"bodvm-pagebackground setcenter\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bodvm-pageinner setcenter\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bodvm-bodarea setcenter gifont\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bodvm-sidebar\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bodvm-sidetitle\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"\\uC790\\uC720\\uAC8C\\uC2DC\\uD310\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"bodvm-sideutil\",children:[contextApi.loginStatus?/*#__PURE__*/_jsx(\"h2\",{children:contextApi.whoIsLogin}):/*#__PURE__*/_jsx(\"h2\",{children:\"\\uC775\\uBA85(\\uBE44\\uB85C\\uADF8\\uC778)\"}),/*#__PURE__*/_jsx(\"h3\",{children:setTimeinfo})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bodvm-sidebtu\",children:[contextApi.whoIsLogin===boardWriter?/*#__PURE__*/_jsx(\"button\",{className:\"bodvm-changebtu gifont\",onClick:deleteboard,children:\"\\uAE00\\uC0AD\\uC81C\"}):/*#__PURE__*/_jsx(\"button\",{className:\"bodvm-changebtu gifont\",children:\"\\uC0AD\\uC81C\\uAD8C\\uD55C\\uC5C6\\uC74C\"}),contextApi.whoIsLogin===boardWriter?/*#__PURE__*/_jsx(\"button\",{className:\"bodvm-changebtu gifont\",onClick:changemodify,children:\"\\uAE00\\uC218\\uC815\"}):/*#__PURE__*/_jsx(\"button\",{className:\"bodvm-changebtu gifont\",children:\"\\uC218\\uC815\\uAD8C\\uD55C\\uC5C6\\uC74C\"})]})]}),isModify?/*#__PURE__*/_jsxs(\"div\",{className:\"bodvm-contents\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bodvm-contents-viewerinfo\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bodvm-contents-number\",children:boardNumber}),/*#__PURE__*/_jsx(\"div\",{className:\"bodvm-contents-title bodvm-section\",children:/*#__PURE__*/_jsx(\"input\",{defaultValue:boardTitle,onChange:handleInputTitle})}),/*#__PURE__*/_jsx(\"div\",{className:\"bodvm-contents-writer\",children:boardWriter}),/*#__PURE__*/_jsx(\"div\",{className:\"bodvm-contents-writetime\",children:boardWritetime})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bodvm-contents-viewertext bodvm-section\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bodvm-contents-text bodvm-section\",children:/*#__PURE__*/_jsx(\"input\",{defaultValue:boardText,onChange:handleInputText})})}),/*#__PURE__*/_jsx(\"div\",{className:\"bodvm-contents-submitbutton\",children:/*#__PURE__*/_jsx(\"button\",{className:\"bodvm-contents-submitbtn\",type:\"button\",onClick:modifyboard,children:\"\\uC218\\uC815\\uD558\\uAE30\"})})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"bodvm-contents\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bodvm-contents-viewerinfo\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bodvm-contents-number\",children:boardNumber}),/*#__PURE__*/_jsx(\"div\",{className:\"bodvm-contents-title\",children:boardTitle}),/*#__PURE__*/_jsx(\"div\",{className:\"bodvm-contents-writer\",children:boardWriter}),/*#__PURE__*/_jsx(\"div\",{className:\"bodvm-contents-writetime\",children:boardWritetime})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bodvm-contents-viewertext bodvm-section\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bodvm-contents-text\",children:boardText})})]})]})})})});};export default Test;","map":{"version":3,"names":["React","useContext","useState","myContext","useLocation","axios","Test","contextApi","location","isModify","setIsModify","state","BOARD_TITLE","boardTitle","setBoardTitle","BOARD_TEXT","boardText","setBoardText","boardNumber","BOARD_NUMBER","boardWriter","BOARD_WRITER","boardWritetime","BOARD_WRITE_TIME","setTimeinfo","handleInputTitle","e","target","value","handleInputText","deleteboard","delete","params","then","res","console","log","alert","document","href","modifyboard","put","data","SystemMessage","catch","error","changemodify","loginStatus","whoIsLogin"],"sources":["D:/Coding Archive/Git Repo/PrivateProject/prj05/client/src/pages/test.js"],"sourcesContent":["import React, { useContext, useState } from 'react';\r\n\r\n\r\nimport './Test.css';\r\nimport '../style/GlobalStyle.css';\r\n\r\nimport { myContext } from '../App';\r\nimport { useLocation } from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\nconst Test = () => {\r\n    const contextApi = useContext(myContext);\r\n\r\n    // Generalforum에서 게시물 데이터를 가지고 오기위해 useLocation을 사용.\r\n    const location = useLocation();\r\n\r\n    const [isModify, setIsModify] = useState(false);\r\n    const [boardTitle, setBoardTitle] = useState(location.state?.BOARD_TITLE);\r\n    const [boardText, setBoardText] = useState(location.state?.BOARD_TEXT);\r\n\r\n    // useLocation으로 가져온 데이터를 변수에 삽입.\r\n    const boardNumber = location.state?.BOARD_NUMBER;\r\n    const boardWriter = location.state?.BOARD_WRITER;\r\n    const boardWritetime = location.state?.BOARD_WRITE_TIME;\r\n\r\n    const setTimeinfo = '';\r\n\r\n    // 정확한 입력값을 체크하기 위해서 입력창의 값이 변하는 순간마다 값을 갱신, useState로 변수에 SET하도록 함.\r\n    const handleInputTitle = (e) => {\r\n        setBoardTitle(e.target.value)\r\n    }\r\n\r\n    const handleInputText = (e) => {\r\n        setBoardText(e.target.value)\r\n    }\r\n\r\n    const deleteboard = () => {\r\n        axios\r\n        .delete('/prj05/board/delete', {\r\n            params: {\r\n                'BOARD_NUMBER': boardNumber\r\n            }\r\n        })\r\n        .then(res => {\r\n            console.log(res)\r\n            alert('글이 삭제되었습니다.');\r\n\r\n            // 작업 완료 되면 페이지 이동(새로고침)\r\n            document.location.href = '/board'\r\n        })\r\n    };\r\n\r\n    const modifyboard = () => {\r\n        axios\r\n        .put('/prj05/board/modify', null, {\r\n            params: {\r\n                'BOARD_TITLE': boardTitle,\r\n                'BOARD_TEXT': boardText,\r\n                'BOARD_NUMBER': boardNumber\r\n            }\r\n        })\r\n        .then(res => {\r\n            // 작업 완료 되면 메시지 알람 띄움.\r\n            alert(res.data.SystemMessage);\r\n            // 작업 완료 되면 페이지 이동(새로고침).\r\n            document.location.href = '/board'\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n        })\r\n    }\r\n\r\n    const changemodify = () => {\r\n        setIsModify(true);\r\n    };\r\n    \r\n    return (\r\n        <>\r\n                <div className='bodvm-pagebackground setcenter'>\r\n                    <div className='bodvm-pageinner setcenter'>\r\n                        <div className='bodvm-bodarea setcenter gifont'>\r\n\r\n                            <div className='bodvm-sidebar'>\r\n\r\n                                <div className='bodvm-sidetitle'>\r\n                                    <h1>자유게시판</h1>\r\n                                </div>\r\n\r\n                                <div className='bodvm-sideutil'>\r\n                                    {contextApi.loginStatus ? \r\n                                        <h2>{contextApi.whoIsLogin}</h2>\r\n                                    :\r\n                                        <h2>익명(비로그인)</h2>\r\n                                    }\r\n\r\n                                    <h3>{setTimeinfo}</h3>\r\n                                </div>\r\n\r\n                                <div className='bodvm-sidebtu'>\r\n                                    {contextApi.whoIsLogin === boardWriter ?\r\n                                            <button className='bodvm-changebtu gifont' onClick={deleteboard}>글삭제</button>\r\n                                        :\r\n                                            <button className='bodvm-changebtu gifont'>삭제권한없음</button>\r\n                                    }\r\n\r\n                                    {contextApi.whoIsLogin === boardWriter ?\r\n                                            <button className='bodvm-changebtu gifont' onClick={changemodify}>글수정</button>\r\n                                        :\r\n                                            <button className='bodvm-changebtu gifont'>수정권한없음</button>  \r\n                                    }\r\n                                </div>\r\n                            </div>\r\n\r\n                            {isModify ? \r\n                                <div className='bodvm-contents'>\r\n                                    <div className='bodvm-contents-viewerinfo'>\r\n                                        <div className='bodvm-contents-number'>\r\n                                            {boardNumber}\r\n                                        </div>\r\n                                        <div className='bodvm-contents-title bodvm-section'>\r\n                                            <input defaultValue={boardTitle} onChange={handleInputTitle}/>\r\n                                        </div>\r\n                                        <div className='bodvm-contents-writer'>\r\n                                            {boardWriter}\r\n                                        </div>\r\n                                        <div className='bodvm-contents-writetime'>\r\n                                            {boardWritetime}\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className='bodvm-contents-viewertext bodvm-section'>\r\n                                        <div className='bodvm-contents-text bodvm-section'>\r\n                                            <input defaultValue={boardText} onChange={handleInputText}/>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className='bodvm-contents-submitbutton'>\r\n                                        <button className='bodvm-contents-submitbtn' type='button' onClick={modifyboard}>수정하기</button>\r\n                                    </div>\r\n                                </div>\r\n                            :\r\n                                <div className='bodvm-contents'>\r\n                                    <div className='bodvm-contents-viewerinfo'>\r\n                                        <div className='bodvm-contents-number'>\r\n                                            {boardNumber}\r\n                                        </div>\r\n                                        <div className='bodvm-contents-title'>\r\n                                            {boardTitle}\r\n                                        </div>\r\n                                        <div className='bodvm-contents-writer'>\r\n                                            {boardWriter}\r\n                                        </div>\r\n                                        <div className='bodvm-contents-writetime'>\r\n                                            {boardWritetime}\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className='bodvm-contents-viewertext bodvm-section'>\r\n                                        <div className='bodvm-contents-text'>\r\n                                            {boardText}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Test;"],"mappings":"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"},"metadata":{},"sourceType":"module"}